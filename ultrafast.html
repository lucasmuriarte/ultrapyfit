

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ultrafast package &mdash; ultrafast 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="ultrafast" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ultrafast
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">ultrafast</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ultrafast package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.BasicSpectrumClass">ultrafast.BasicSpectrumClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.ChirpCorrectionClass">ultrafast.ChirpCorrectionClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.ExploreResultsClass">ultrafast.ExploreResultsClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.GlobExpParams">ultrafast.GlobExpParams module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.GlobalFitClass">ultrafast.GlobalFitClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.GlobalTargetClass">ultrafast.GlobalTargetClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.MaptplotLibCursor">ultrafast.MaptplotLibCursor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.ModelCreatorClass">ultrafast.ModelCreatorClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.PlotSVDClass">ultrafast.PlotSVDClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.PlotTransientClass">ultrafast.PlotTransientClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.PreprocessingClass">ultrafast.PreprocessingClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.experimentClass">ultrafast.experimentClass module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast.tools">ultrafast.tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultrafast">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ultrafast</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">ultrafast</a> &raquo;</li>
        
      <li>ultrafast package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ultrafast.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ultrafast-package">
<h1>ultrafast package<a class="headerlink" href="#ultrafast-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ultrafast.BasicSpectrumClass">
<span id="ultrafast-basicspectrumclass-module"></span><h2>ultrafast.BasicSpectrumClass module<a class="headerlink" href="#module-ultrafast.BasicSpectrumClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Wed Nov 11 15:05:16 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.BasicSpectrumClass.</code><code class="sig-name descname">BasicSpectrum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Contain basic functions that every spectrum should have</p>
<dl class="simple">
<dt>x: array type</dt><dd><p>independent variable of the spectrum</p>
</dd>
<dt>y: array type</dt><dd><p>independent variable of the spectrum</p>
</dd>
<dt>data_table: pandas dataFrame</dt><dd><p>data frame containig x and y with coulmn names x:’wavelengths’ y:’absorbances’</p>
</dd>
<dt>sort: bool</dt><dd><p>if True sperctrum is order from the x minimum value to the x highest</p>
</dd>
<dt>name: str</dt><dd><p>name given to the spectrum</p>
</dd>
<dt>name_x: str</dt><dd><p>name of the x vector, i.e. ‘Wavelngth (nm)’</p>
</dd>
<dt>name_y: str</dt><dd><p>name of the y vector, i.e. ‘Absorbance’</p>
</dd>
</dl>
<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.averageOfRange">
<code class="sig-name descname">averageOfRange</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Print</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.averageOfRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the average value of “y” from the given “x” range</p>
<dl class="simple">
<dt>low: float</dt><dd><p>minimum value of x</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x</p>
</dd>
<dt>Print: bool</dt><dd><p>print the results out</p>
</dd>
</dl>
<blockquote>
<div><p>the average the range</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.baselineCorrection">
<code class="sig-name descname">baselineCorrection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">itself</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.baselineCorrection" title="Permalink to this definition">¶</a></dt>
<dd><p>subrtact the average value of a range to the spectra acording to values of x</p>
<dl class="simple">
<dt>low: float</dt><dd><p>minimum value of x range</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x range</p>
</dd>
<dt>itself: bool</dt><dd><p>if true subtract the spectrum else returns a new spectrum object</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x-position; y-maximum</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.calculateArea">
<code class="sig-name descname">calculateArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Print</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.calculateArea" title="Permalink to this definition">¶</a></dt>
<dd><p>cut the spectra acording to values of x</p>
<dl class="simple">
<dt>low: float</dt><dd><p>minimum value of x</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x</p>
</dd>
<dt>Print: bool</dt><dd><p>print the results out</p>
</dd>
</dl>
<blockquote>
<div><p>the are under the curve in the range</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.cut">
<code class="sig-name descname">cut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">itself</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.cut" title="Permalink to this definition">¶</a></dt>
<dd><p>cut the spectra acording to values of x</p>
<dl class="simple">
<dt>low: float</dt><dd><p>minimum value of x</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x</p>
</dd>
<dt>itself: bool</dt><dd><p>if true cut the spectrum else returns a new spectrum object</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x-position; y-maximum</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.forcePositive">
<code class="sig-name descname">forcePositive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">itself</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.forcePositive" title="Permalink to this definition">¶</a></dt>
<dd><p>add minimum value of the y vector to itself and thus force it to be positive</p>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.normalize">
<code class="sig-name descname">normalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">itself</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize the spectra so that the wavelenght value is 1.
If wavelenght is None the maximum of the range between low and
high values will be use to normalize the spectrum.</p>
<dl class="simple">
<dt>wavelength: float</dt><dd><p>wavelenth value where the spectra shoudl be 1
if None the maximum will be chose</p>
</dd>
<dt>low: float</dt><dd><p>minimum value of x range</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x range</p>
</dd>
<dt>itself: bool</dt><dd><p>if true normalize the spectrum else returns a new spectrum object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.obtainMax">
<code class="sig-name descname">obtainMax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Print</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.obtainMax" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the maximum of the y vecto and the correspodint x postion</p>
<dl class="simple">
<dt>low: float</dt><dd><p>minimum value of x range</p>
</dd>
<dt>high: float</dt><dd><p>maximum value of x range</p>
</dd>
<dt>Print: bool</dt><dd><p>print the results out</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x-position; y-maximum</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.obtainMin">
<code class="sig-name descname">obtainMin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Print</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.obtainMin" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the minimum of the y vector and the correspodint x postion
Paramaters
———-
low: float</p>
<blockquote>
<div><p>minimum value of x range</p>
</div></blockquote>
<dl class="simple">
<dt>high: float</dt><dd><p>maximum value of x range</p>
</dd>
<dt>Print: bool</dt><dd><p>print the results out</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x-position; y-minimum</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.obtainValue">
<code class="sig-name descname">obtainValue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.obtainValue" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the y value of the correspoding x value</p>
<dl class="simple">
<dt>valu: float</dt><dd><p>value of x</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>y value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.plotSpectrum">
<code class="sig-name descname">plotSpectrum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">'current'</span></em>, <em class="sig-param"><span class="n">x_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fill</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">two_Xaxes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.plotSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the spectrum</p>
<dl class="simple">
<dt>axes: str or matplotlib axes object</dt><dd><ul class="simple">
<li><p>“current” plots in the last open axes</p></li>
<li><p>“new” create a new axes</p></li>
<li><p>pass a matplotlib axes where the spectra will be plot</p></li>
</ul>
</dd>
<dt>x_label: str</dt><dd><p>the x label of the plot</p>
</dd>
<dt>y_label: str</dt><dd><p>the y label of the plot</p>
</dd>
<dt>label: str</dt><dd><p>the legend to be display (pass “_” form no label)</p>
</dd>
<dt>fill: bool</dt><dd><p>fill area under the spectrum curve</p>
</dd>
<dt>two_Xaxes: bool</dt><dd><p>in case two x is tranformed (i.e. wavelenght and wavenumber)
and if True, the old and new axis will be plot</p>
</dd>
<dt>kwargs: dict</dt><dd><p>matplot lib kwargs for plt.plot()</p>
</dd>
<dt>extra_kwargs: dict</dt><dd><dl class="simple">
<dt>this parameters can be pases as kwargs eve if they are not from plt.plot()</dt><dd><p>fsize: 14
small_tick: True
which:both
direction:in</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>matplotlib axex object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.BasicSpectrumClass.BasicSpectrum.transformXvector">
<code class="sig-name descname">transformXvector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">new_name</span></em>, <em class="sig-param"><span class="n">undo</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.BasicSpectrumClass.BasicSpectrum.transformXvector" title="Permalink to this definition">¶</a></dt>
<dd><p>make a tranformation of x verto according to the function pass</p>
<blockquote>
<div><p>Paramaters</p>
</div></blockquote>
<dl class="simple">
<dt>func: func(x):</dt><dd><p>function that tranform x</p>
</dd>
<dt>new_name: str</dt><dd><p>string of the new x vector</p>
</dd>
<dt>undo: bool</dt><dd><p>if True and x has been transform, undo the tranformation,
No need to pass func or new_name if True</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.ChirpCorrectionClass">
<span id="ultrafast-chirpcorrectionclass-module"></span><h2>ultrafast.ChirpCorrectionClass module<a class="headerlink" href="#module-ultrafast.ChirpCorrectionClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Nov 13 17:47:20 2020</p>
<p>&#64;author: 79344</p>
<dl class="py class">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.ChirpCorrectionClass.</code><code class="sig-name descname">ChripCorrection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelenght</span></em>, <em class="sig-param"><span class="n">time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.GVD">
<code class="sig-name descname">GVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">CaF2</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">SiO2</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">BK7</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.GVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.GVDFromGrapth">
<code class="sig-name descname">GVDFromGrapth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.GVDFromGrapth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.GVDFromPolynom">
<code class="sig-name descname">GVDFromPolynom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.GVDFromPolynom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.buttonVerifiedGVD">
<code class="sig-name descname">buttonVerifiedGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.buttonVerifiedGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.correctGVD">
<code class="sig-name descname">correctGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verified</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.correctGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.dispersion">
<code class="sig-name descname">dispersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">landa</span></em>, <em class="sig-param"><span class="n">element</span></em>, <em class="sig-param"><span class="n">excitation</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.dispersion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.finalGVD">
<code class="sig-name descname">finalGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.finalGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.find_nearest">
<code class="sig-name descname">find_nearest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.find_nearest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.fitPolGVD">
<code class="sig-name descname">fitPolGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.fitPolGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.fprime">
<code class="sig-name descname">fprime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">b1</span></em>, <em class="sig-param"><span class="n">b2</span></em>, <em class="sig-param"><span class="n">b3</span></em>, <em class="sig-param"><span class="n">c1</span></em>, <em class="sig-param"><span class="n">c2</span></em>, <em class="sig-param"><span class="n">c3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.fprime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.getCorrectData">
<code class="sig-name descname">getCorrectData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.getCorrectData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.indexDifraction">
<code class="sig-name descname">indexDifraction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">b1</span></em>, <em class="sig-param"><span class="n">b2</span></em>, <em class="sig-param"><span class="n">b3</span></em>, <em class="sig-param"><span class="n">c1</span></em>, <em class="sig-param"><span class="n">c2</span></em>, <em class="sig-param"><span class="n">c3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.indexDifraction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.polynomi">
<code class="sig-name descname">polynomi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">order</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.polynomi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.radioVerifiedGVD">
<code class="sig-name descname">radioVerifiedGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.radioVerifiedGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.updateGVD">
<code class="sig-name descname">updateGVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.updateGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.ChirpCorrectionClass.ChripCorrection.verifiedGVD">
<code class="sig-name descname">verifiedGVD</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.ChripCorrection.verifiedGVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ultrafast.ChirpCorrectionClass.correctGVDSellmeier">
<code class="sig-prename descclassname">ultrafast.ChirpCorrectionClass.</code><code class="sig-name descname">correctGVDSellmeier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelenght</span></em>, <em class="sig-param"><span class="n">time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ChirpCorrectionClass.correctGVDSellmeier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ultrafast.ExploreResultsClass">
<span id="ultrafast-exploreresultsclass-module"></span><h2>ultrafast.ExploreResultsClass module<a class="headerlink" href="#module-ultrafast.ExploreResultsClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Sun Nov 15 18:35:41 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.ExploreResultsClass.ExploreResults">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.ExploreResultsClass.</code><code class="sig-name descname">ExploreResults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fits</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultrafast.tools.FiguresFormating" title="ultrafast.tools.FiguresFormating"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.tools.FiguresFormating</span></code></a></p>
<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.DAS">
<code class="sig-name descname">DAS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">number</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.DAS" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an array of the Decay associated spectra. The number of rows is the number of species
and the number of columns correspond to the wavelength vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<em>list of inst or ‘all’</em>) – Defines the DAS spectra wanted, if there is tau_inf include -1 in the list
e.g.: for a fit with three exponential, if the last two are wanted; number = [1, 2]
e.g.2: the last two exponentials plus tau_inf; number = [1, 2, -1]</p></li>
<li><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy 2d array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.plot_DAS">
<code class="sig-name descname">plot_DAS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">number</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em>, <em class="sig-param"><span class="n">cover_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot_integrated_DAS</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.plot_DAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Funtion that generates a figure with the decay associted spectra (DAS) of the fit stored in the all_fit attributes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered.</p></li>
<li><p><strong>number</strong> (<em>list of inst or ‘all’</em>) – Defines the DAS spectra wanted, if there is tau_inf include -1 in the list
e.g.: for a fit with three exponential, if the last two are wanted; number = [1, 2]
e.g.2: the last two exponentials plus tau_inf; number = [1, 2, -1]</p></li>
<li><p><strong>precision</strong> (<em>int (default 2)</em>) – Defines the number of decimal places of the legend legend</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
<li><p><strong>cover_range</strong> (<em>List of length 2 or None (default None)</em>) – Defines a range in wavelength that will be cover in white. This can be use to cut the excitation
wavelength range</p></li>
<li><p><strong>plot_integrated_DAS</strong> (<em>bool (default False)</em>) – Defines in case if data has been dericvated to directly integrate the DAS</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.plot_concentrations">
<code class="sig-name descname">plot_concentrations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot_total_c</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.plot_concentrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Funtion that generates a figure with the concentration evolution of a Target fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered.</p></li>
<li><p><strong>names</strong> (<em>list (default None)</em>) – List that allows to redefine the names of the components.
Is none the default names “specie” is use.
The names are display in the legend if legend is True</p></li>
<li><p><strong>plot_total_c</strong> (<em>bool (default True)</em>) – Defines if the Total concentration is</p></li>
<li><p><strong>legend</strong> (<em>bool (default True)</em>) – Defines if the legend is display</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.plot_fit">
<code class="sig-name descname">plot_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">selection</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot_residues</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.plot_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Funtion that generates a figure with the results of the fit stored in the all_fit attributes
If less than 10 traces are fitted or selected a legend will be displayed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered</p></li>
<li><p><strong>selection</strong> (<em>list or None (default None)</em>) – If None all the traces fiited will be plooted, if not only those selected in the lis</p></li>
<li><p><strong>plot_residues</strong> (<em>Bool (default True)</em>) – If True the Figure returned will contain two axes a top one with the residues, and the bottom one
with the fit and data</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.print_results">
<code class="sig-name descname">print_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.print_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out a sumarize result of the fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.results">
<code class="sig-name descname">results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verify_svd_fit</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.results" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a data set created from the best parameters values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered</p></li>
<li><p><strong>verify_svd_fit</strong> (<em>bool (default  False)</em>) – If True it will return the single fit perform to every trace of the spectra after an svd fit
If false and the fit is an SVD, the values retunr are the fit to the svd
If is not an SVD fit this parameter is not applicable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ExploreResultsClass.ExploreResults.verify_fit">
<code class="sig-name descname">verify_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fit_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ExploreResultsClass.ExploreResults.verify_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Funtion that generates a figure with a slider to evaluate every single trace fitted independently</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fit_number</strong> (<em>int or None (default None)</em>) – defines the fit number of the results all_fit dcitionary. If None the last fit in  will
be considered.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.GlobExpParams">
<span id="ultrafast-globexpparams-module"></span><h2>ultrafast.GlobExpParams module<a class="headerlink" href="#module-ultrafast.GlobExpParams" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Nov 13 18:48:51 2020</p>
<p>&#64;author: 79344</p>
<dl class="py class">
<dt id="ultrafast.GlobExpParams.GlobExpParameters">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.GlobExpParams.</code><code class="sig-name descname">GlobExpParameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">number_traces</span></em>, <em class="sig-param"><span class="n">taus</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class parameter generator global fitting</p>
<dl class="py attribute">
<dt id="ultrafast.GlobExpParams.GlobExpParameters.taus">
<code class="sig-name descname">taus</code><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters.taus" title="Permalink to this definition">¶</a></dt>
<dd><p>contains the value of the decay times</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobExpParams.GlobExpParameters.exp_no">
<code class="sig-name descname">exp_no</code><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters.exp_no" title="Permalink to this definition">¶</a></dt>
<dd><p>is the number of exponential and equal to the len of taus</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobExpParams.GlobExpParameters.number_traces">
<code class="sig-name descname">number_traces</code><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters.number_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>contains the number of data sets (traces) that should be globally fitted</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobExpParams.GlobExpParameters.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters.params" title="Permalink to this definition">¶</a></dt>
<dd><p>contains the parameters for the fit</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>lmFit Parameters class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobExpParams.GlobExpParameters.adjustParams">
<code class="sig-name descname">adjustParams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t0</span></em>, <em class="sig-param"><span class="n">vary_t0</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fwhm</span><span class="o">=</span><span class="default_value">0.12</span></em>, <em class="sig-param"><span class="n">opt_fwhm</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">GVD_corrected</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobExpParams.GlobExpParameters.adjustParams" title="Permalink to this definition">¶</a></dt>
<dd><p>function to initialize parameters for global fitting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t0</strong> (<em>int or float</em>) – the t0 for the fitting</p></li>
<li><p><strong>vary_t0</strong> (<em>bool (default True)</em>) – allows to optimize t0 when the sum of exponential is convolve with
a gaussian. If there is no deconvolution t0 is always fix to the
given value.</p></li>
<li><p><strong>fwhm</strong> (<em>float or None (default 0.12)</em>) – FWHM of the the laser pulse use in the experiment
If None. the deconvolution parameters will not be added</p></li>
<li><p><strong>opt_fwhm</strong> (<em>bool (default False)</em>) – allows to optimized the FWHM.
Theoretically this should be measured externally and be fix
(only applicable if fwhm is given)</p></li>
<li><p><strong>GVD_corrected</strong> (<em>bool (default True)</em>) – If True all traces will have same t0.
If False t0 is independent of the trace</p></li>
<li><p><strong>tau_inf</strong> (<em>int or float (default 1E12)</em>) – allows to add a constant decay value to the parameters.
This modelled photoproducts formation with long decay times
If None tau_inf is not added.
(only applicable if fwhm is given)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.GlobalFitClass">
<span id="ultrafast-globalfitclass-module"></span><h2>ultrafast.GlobalFitClass module<a class="headerlink" href="#module-ultrafast.GlobalFitClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Nov 12 21:00:23 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.GlobalFitClass.</code><code class="sig-name descname">GlobalFitExponential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">exp_no</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">deconv</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em>, <em class="sig-param"><span class="n">GVD_corrected</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">lmfit.minimizer.Minimizer</span></code>, <a class="reference internal" href="#ultrafast.ModelCreatorClass.ModelCreator" title="ultrafast.ModelCreatorClass.ModelCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.ModelCreatorClass.ModelCreator</span></code></a></p>
<p>Class that does a global fit using exponential models. This class is uses by the function,
globalfit_gauss_exponential and globalfit_exponential functions. A global fit evaluate the
times from all the traces (taus are globally fitted), while the pre_exponential values
(pre_exp) are estimated independently from each trace. The pre_exp values give later the
decay associated spectra (DAS). The Class do not generates the parameters automatically.</p>
<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.x">
<code class="sig-name descname">x</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x-vector, normally time vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.data" title="Permalink to this definition">¶</a></dt>
<dd><p>array containing the data, the number of rows should be equal to the len(x)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>2darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.exp_no">
<code class="sig-name descname">exp_no</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.exp_no" title="Permalink to this definition">¶</a></dt>
<dd><p>number of exponential that will be used to fit the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.params" title="Permalink to this definition">¶</a></dt>
<dd><p>object containing the initial parameters values used to build an exponential model.
These parameters are iteratively optimize to reduce the residual matrix formed by
data-model (error matrix) using Levenberg-Marquardt algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>lmfit parameters object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.deconv">
<code class="sig-name descname">deconv</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.deconv" title="Permalink to this definition">¶</a></dt>
<dd><p>If True the fitting functions will search for the deconvolution parameter (“fwhm”) in the
params attribute, and the the model is a weighted sum of Gauss modified exponential functions.
If False the the model is a weighted sum of exponential functions, and params should not contain
the fwhm entrance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.tau_inf">
<code class="sig-name descname">tau_inf</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.tau_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>An extra decay time use to evaluate possible photoproduct. This should be used if the signal
at long delay times is not completely recovered and if deconv is set to True. If the signal
at long delay times is zero tau_inf should be set to None. (only affects if deconv is True)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float or int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.GVD_corrected">
<code class="sig-name descname">GVD_corrected</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.GVD_corrected" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines if the chrip or group velocity dispersion (GVD) has been corrected. If True t0 is globally
optimized (faster). If False t0 is separately optimized for each trace (slower). Notice in some cases
even if the chirp or GVD has been corrected, very small variations of t0 that might be imperceptible
and small may generate problems in the fit, setting this parameter to False can help to acquire overcome
this problem although the fit will take longer. (only affects if deconv is True)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.weights">
<code class="sig-name descname">weights</code><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.weights" title="Permalink to this definition">¶</a></dt>
<dd><p>This dictionary controls if the fitting weights are applied, the keys are:
“apply”: Bool
“vector”: weighting vector.
‘type’: type of vector defined in the ,
‘range’: time range according to x-vector of the weights that are different than 1
‘value’: val weighting value
The dictionary keys can be passes as kwargs when instantiating the object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.finalFit">
<code class="sig-name descname">finalFit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vary_taus</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">maxfev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_constraint</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">apply_weights</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.finalFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to fit the data to a model. Returns a modified lmfit result object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vary_taus</strong> (<em>bool or list of bool</em>) – If True or False all taus are optimized or fixed. If a list, should be a list of bool
equal with len equal to the number of taus. Each entry defines if a initial taus
should be optimized or not.</p></li>
<li><p><strong>maxfev</strong> (<em>int (default 5000)</em>) – maximum number of iterations of the fit.</p></li>
<li><p><strong>time_constraint</strong> (<em>bool (default False)</em>) – If True and there are more than one tau to optimized force tau2 &gt; tau1, tau3 &gt; tau2 and so on
If self.deconv is True a Gaussian modified exponential model is applied and tau1 &gt; fwhm.</p></li>
<li><p><strong>apply_weights</strong> (<em>bool (default False)</em>) – If True and weights have been defined, this will be applied in the fit (for defining weights) check
the function define_weights.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalFitClass.GlobalFitExponential.preFit">
<code class="sig-name descname">preFit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalFitClass.GlobalFitExponential.preFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that optimized the pre_exponential factors trace by trace without optimizing
the decay times (taus). It is automatically ran before the final fit.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ultrafast.GlobalFitClass.globalfit_exponential">
<code class="sig-prename descclassname">ultrafast.GlobalFitClass.</code><code class="sig-name descname">globalfit_exponential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">taus</span></em>, <em class="sig-param"><span class="n">vary</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">t0</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">maxfev</span><span class="o">=</span><span class="default_value">5000</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalFitClass.globalfit_exponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that does a global fit of a weighted sum of exponential equal to the number
of time constants (taus) pass. It gives a result object which is a modified object
with added properties. The result can be evaluated with the explore result class.</p>
<p>A global fit evaluate the times from all the traces (taus are globally fitted), while
the pre_exponential values (pre_exp) are estimated independently from each trace. The
pre_exp values give later the decay associated spectra (DAS). The function generates the
parameters automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>1darray</em>) – x-vector, normally time vector</p></li>
<li><p><strong>data</strong> (<em>2d array</em>) – Array containing the data, the number of rows should be equal to the len(x)</p></li>
<li><p><strong>taus</strong> (<em>float or int</em>) – Initial estimates for the exponential decay times. There is no limit of tau numbers.
each tau correspond to an exponential function. Is recommended to use the minimum
number of exponential that correctly describe the data set.</p></li>
<li><p><strong>vary</strong> (<em>bool or list of bool</em>) – If True or False all taus are optimized or fixed. If a list, should be a list of bool
equal with len equal to the number of taus. Each entry defines if a initial taus
should be optimized or not.</p></li>
<li><p><strong>t0</strong> (<em>int</em>) – Initial time value where to start evaluating the function. Only x vector values
higher than t0 will be take into consideration.</p></li>
<li><p><strong>maxfev</strong> (<em>int (default 5000)</em>) – Maximum number of iterations of the fit.</p></li>
<li><p><strong>kwargs</strong> – Related for applying weight to the fit. The dictionary obtained from the function
define_weights can be directly pass as <a href="#id1"><span class="problematic" id="id2">*</span></a>+weights</p></li>
<li><p><strong>e.g.1</strong> (<em>globalFitSumExponential(x, data, 8,30, 200, vary=True, t0=3)</em>) – A weighted sum of three exponential function will be fitted to the data set
the initial estimates are 8, 30 and 200, where all will be optimized. The
function is only evaluated from x values higher than 3</p></li>
<li><p><strong>e.g.2</strong> (<em>globalFitSumExponential(x, data, 8,30, 200, vary=[True, False, True], t0=0)</em>) – A weighted sum of three exponential function will be fitted to the data set
the initial estimates are 8, 30 and 200 where 8 and 200 are optimized and 30 is fixed.
function is only evaluated from x values higher than 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.GlobalFitClass.globalfit_gauss_exponential">
<code class="sig-prename descclassname">ultrafast.GlobalFitClass.</code><code class="sig-name descname">globalfit_gauss_exponential</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">taus</span></em>, <em class="sig-param"><span class="n">vary</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fwhm</span><span class="o">=</span><span class="default_value">0.12</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em>, <em class="sig-param"><span class="n">t0</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">vary_t0</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">vary_fwhm</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">maxfev</span><span class="o">=</span><span class="default_value">5000</span></em>, <em class="sig-param"><span class="n">GVD_corrected</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalFitClass.globalfit_gauss_exponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that does a global fit of a weighted sum of gaussian modified exponential
equal to the number of time constants (taus) pass. It gives a result object which is a
modified object with added properties. The result can be evaluated with the explore
result class.</p>
<p>A global fit evaluate the times from all the traces (taus are globally fitted), while
the pre_exponential values (pre_exp) are estimated independently from each trace. The
pre_exp values give later the decay associated spectra (DAS). The function generates the
parameters automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>1darray</em>) – x-vector, normally time vector</p></li>
<li><p><strong>data</strong> (<em>2d array</em>) – Array containing the data, the number of rows should be equal to the len(x)</p></li>
<li><p><strong>taus</strong> (<em>float or int</em>) – Initial estimates for the exponential decay times. There is no limit of tau numbers.
each tau correspond to an exponential function. Is recommended to use the minimum
number of exponential that correctly describe the data set.</p></li>
<li><p><strong>vary</strong> (<em>bool or list of bool</em>) – If True or False all taus are optimized or fixed. If a list, should be a list of bool
equal with len equal to the number of taus. Each entry defines if a initial taus
should be optimized or not.</p></li>
<li><p><strong>fwhm</strong> (<em>int or float (default 0.12)</em>) – Full width half maximum of the laser pulse length use in the experiment. This value
is used to to fit a modified gaussian exponential function, and can be determined
with an external measurement or for example in case of TRUV-vis data fitting the stimulated
raman signal of the solvent to a gaussian function.</p></li>
<li><p><strong>tau_inf</strong> (<em>float or int or None (default 1E12)</em>) – An extra decay time use to evaluate possible photoproduct. This should be used if the signal
at long delay times is not completely recovered. If the signal at long delay times is zero
tau_inf should be set to None.</p></li>
<li><p><strong>t0</strong> (<em>int (default 0)</em>) – t0 in a modified gaussian exponential fit defines the point where the signal start raising.
This should be the 0, and is the time defining the time where the pump and probe overlaps
(notice is different from the t0 in a simple exponential fit)</p></li>
<li><p><strong>vary_t0</strong> (<em>bool (default True)</em>) – Defines if the t0 is optimized. We recommend to always set this value to true</p></li>
<li><p><strong>vary_fwhm</strong> (<em>bool (default False)</em>) – Defines if the fwhm is optimized. We recommend to always set this value to False, and determine this
value from an external measurement</p></li>
<li><p><strong>GVD_corrected</strong> (<em>bool (defautl True)</em>) – Defines if the chrip or group velocity dispersion (GVD) has been corrected. If True t0 is globally
optimized (faster). If False t0 is separately optimized for each trace (slower). Notice in some cases
even if the chirp or GVD has been corrected, very small variations of t0 that might be imperceptible
and small may generate problems in the fit, setting this parameter to False can help to acquire overcome
this problem although the fit will take longer.</p></li>
<li><p><strong>maxfev</strong> (<em>int (default 5000)</em>) – Maximum number of iterations of the fit.</p></li>
<li><p><strong>kwargs</strong> – Related for applying weight to the fit. The dictionary obtained from the function
define_weights can be directly pass as <a href="#id3"><span class="problematic" id="id4">*</span></a>+weights</p></li>
<li><p><strong>e.g.1</strong> (<em>globalFitSumExponential(x, data, 8,30, 200, vary=True, fwhm=0.16)</em>) – A weighted sum of three exponential function will be fitted to the data set
the initial estimates are 8, 30 and 200, where all will be optimized.he fwhm
of the Gauss function is 0.16.</p></li>
<li><p><strong>e.g.2</strong> (<em>globalFitSumExponential(x, data, 8,30, 200, vary=[True, False, True], fwhm=0.12)</em>) – A weighted sum of three Gauss modified exponential function will be fitted to the data set
the initial estimates are 8, 30 and 200 where 8 and 200 are optimized and 30 is fixed. The fwhm
of the Gauss function is 0.12.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ultrafast.GlobalTargetClass">
<span id="ultrafast-globaltargetclass-module"></span><h2>ultrafast.GlobalTargetClass module<a class="headerlink" href="#module-ultrafast.GlobalTargetClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Nov 13 13:12:36 2020</p>
<p>&#64;author: 79344</p>
<dl class="py class">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.GlobalTargetClass.</code><code class="sig-name descname">GlobalFitTargetModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">exp_no</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">deconv</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">SVD</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">GVD_corrected</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">lmfit.minimizer.Minimizer</span></code>, <a class="reference internal" href="#ultrafast.ModelCreatorClass.ModelCreator" title="ultrafast.ModelCreatorClass.ModelCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.ModelCreatorClass.ModelCreator</span></code></a></p>
<dl class="py method">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel.finalFit">
<code class="sig-name descname">finalFit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vary_taus</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">maxfev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">apply_weights</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel.finalFit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel.generateResidues">
<code class="sig-name descname">generateResidues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">funtion</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">extra_para</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel.generateResidues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel.objectiveTagetFit">
<code class="sig-name descname">objectiveTagetFit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shared_t0</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel.objectiveTagetFit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel.preFit">
<code class="sig-name descname">preFit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel.preFit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.GlobalTargetClass.GlobalFitTargetModel.singleFit">
<code class="sig-name descname">singleFit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">function</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">extra_params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.GlobalTargetClass.GlobalFitTargetModel.singleFit" title="Permalink to this definition">¶</a></dt>
<dd><p>does a fit of a single trace</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.MaptplotLibCursor">
<span id="ultrafast-maptplotlibcursor-module"></span><h2>ultrafast.MaptplotLibCursor module<a class="headerlink" href="#module-ultrafast.MaptplotLibCursor" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Nov 13 17:59:23 2020</p>
<p>&#64;author: 79344</p>
<dl class="py class">
<dt id="ultrafast.MaptplotLibCursor.SnaptoCursor">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.MaptplotLibCursor.</code><code class="sig-name descname">SnaptoCursor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">number_click</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">vertical_draw</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">draw</span><span class="o">=</span><span class="default_value">'snap'</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">single_line</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.MaptplotLibCursor.SnaptoCursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ultrafast.MaptplotLibCursor.SnaptoCursor.mouseMove">
<code class="sig-name descname">mouseMove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.MaptplotLibCursor.SnaptoCursor.mouseMove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.MaptplotLibCursor.SnaptoCursor.onClick">
<code class="sig-name descname">onClick</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.MaptplotLibCursor.SnaptoCursor.onClick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.MaptplotLibCursor.SnaptoCursor.onEnterAxes">
<code class="sig-name descname">onEnterAxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.MaptplotLibCursor.SnaptoCursor.onEnterAxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.MaptplotLibCursor.SnaptoCursor.onLeaveAxes">
<code class="sig-name descname">onLeaveAxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.MaptplotLibCursor.SnaptoCursor.onLeaveAxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.ModelCreatorClass">
<span id="ultrafast-modelcreatorclass-module"></span><h2>ultrafast.ModelCreatorClass module<a class="headerlink" href="#module-ultrafast.ModelCreatorClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Nov 12 21:35:15 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.ModelCreatorClass.ModelCreator">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.ModelCreatorClass.</code><code class="sig-name descname">ModelCreator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exp_no</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing the simple exponential and sum of exponential functions (including modified
Gaussian exponential). This functions are used to generate the model that is later fit to the
data and the parameters optimized. The class has several static methods that returns the
exponential functions from the parameters pass as well as methods that return exponential from
the parameters inside an lmfit parameters object. This parameter lmfit object can be obtained from
the GlobExpParameters class.</p>
<p>exp1: single exponential decay function</p>
<p>expN: weighted sum of exponential decay functions with an off-set</p>
<p>ExpGauss: exponential modified Gaussian function</p>
<p>ExpNGauss: weighted sum of exponential modified Gaussian decay functions with an off-set</p>
<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.exp1">
<em class="property">static </em><code class="sig-name descname">exp1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">tau</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.exp1" title="Permalink to this definition">¶</a></dt>
<dd><p>single exponential decay function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array type</em>) – the time vector</p></li>
<li><p><strong>tau</strong> (<em>float or int</em>) – decay associated time value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to time-vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expGauss">
<em class="property">static </em><code class="sig-name descname">expGauss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">tau</span></em>, <em class="sig-param"><span class="n">sigma</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expGauss" title="Permalink to this definition">¶</a></dt>
<dd><p>exponential modified Gaussian function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array type</em>) – the time vector</p></li>
<li><p><strong>tau</strong> (<em>float or int</em>) – decay associated time value</p></li>
<li><p><strong>sigma</strong> (<em>float or int</em>) – variance of the gaussian distribution</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to time-vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expN">
<em class="property">static </em><code class="sig-name descname">expN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">t0</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expN" title="Permalink to this definition">¶</a></dt>
<dd><p>weighted sum of exponential decay functions with an off-set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array type</em>) – the time vector</p></li>
<li><p><strong>y0</strong> (<em>float or int</em>) – off-set value at the longest decay time</p></li>
<li><p><strong>t0</strong> (<em>float or int</em>) – initial time from where the exponential value will be evaluated</p></li>
<li><p><strong>values</strong> (<em>list of list</em>) – values should be a list of list containing the pre_exps and
decay associated time values (taus)
[[0.1,8],[0.001,30]]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to time-vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNDataset">
<code class="sig-name descname">expNDataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate a weighted sum of exponential decay functions with an
off-set from params for data set i using simple hardwired naming
convention. This function can be used for datasets having different t0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>GlobExpParameters  object</em>) – object containing the parameters created for global
fitting several decay traces</p></li>
<li><p><strong>i</strong> (<em>int</em>) – number corresponding to the specific trace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to time-vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNDatasetFast">
<code class="sig-name descname">expNDatasetFast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">expvects</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNDatasetFast" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate a weighted sum of exponential modified Gaussian decay
functions with an off-set from params for data set i using simple
hardwired naming convention and GlobExpParameters object. This
function can only be used for datasets having identical t0.
(is computationally faster than expNDataset)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>GlobExpParameters  object</em>) – object containing the parameters created for global
fitting several decay traces</p></li>
<li><p><strong>i</strong> (<em>int</em>) – number corresponding to the specific trace</p></li>
<li><p><strong>expvects</strong> (<em>1darray</em>) – sum of expN functions where time-vector should be: time-t0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to expvects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNGauss">
<em class="property">static </em><code class="sig-name descname">expNGauss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">t0</span></em>, <em class="sig-param"><span class="n">fwhm</span></em>, <em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNGauss" title="Permalink to this definition">¶</a></dt>
<dd><p>weighted sum of exponential modified Gaussian decay functions
with an off-set</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>time</strong> (<em>array type</em>) – the time vector</p></li>
<li><p><strong>y0</strong> (<em>float or int</em>) – off-set value at the shortest decay time
(the off-set at long decay times can be evaluated</p>
<blockquote>
<div><p>adding to values a long decay associated time )</p>
</div></blockquote>
</li>
<li><p><strong>t0</strong> (<em>float or int</em>) – initial time from where the exponential value will be evaluated</p></li>
<li><p><strong>fwhm</strong> (<em>float or int</em>) – full width half maximum of the gaussian distribution</p></li>
<li><p><strong>values</strong> (<em>list of list</em>) – values should be a list of list containing the pre_exps and
decay associated time values (taus)
[[0.1,8],[0.001,30]]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to x attribute vector (time vector)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNGaussDataset">
<code class="sig-name descname">expNGaussDataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNGaussDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate a weighted sum of exponential modified Gaussian decay
functions with an off-set from params for data set i using simple
hardwired naming convention. This function can be used for datasets
having different t0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>GlobExpParameters  object</em>) – object containing the parameters created for global
fitting several decay traces</p></li>
<li><p><strong>i</strong> (<em>int</em>) – number corresponding to the specific trace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to time-vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNGaussDatasetFast">
<code class="sig-name descname">expNGaussDatasetFast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">expvects</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNGaussDatasetFast" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate a weighted sum of exponential decay functions with an
off-set from params for data set i using simple hardwired naming
convention and GlobExpParameters object. This function can only be
used for datasets having identical t0.
(is computationally faster than expNGaussDataset)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>GlobExpParameters  object</em>) – object containing the parameters created for global
fitting several decay traces</p></li>
<li><p><strong>i</strong> (<em>int</em>) – number corresponding to the specific trace</p></li>
<li><p><strong>expvects</strong> (<em>1darray</em>) – sum of expN functions where time-vector should be: time-t0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to expvects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.ModelCreatorClass.ModelCreator.expNGaussDatasetTM">
<code class="sig-name descname">expNGaussDatasetTM</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">cons_eigen</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.ModelCreatorClass.ModelCreator.expNGaussDatasetTM" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate kinetic reaction model from params for data set i using
simple hardwired naming convention and GlobTargetParameters object.
(Automatically detects id all traces have identical t0)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>GlobExpParameters  object</em>) – object containing the parameters created for global
fitting several decay traces</p></li>
<li><p><strong>i</strong> (<em>int</em>) – number corresponding to the specific trace</p></li>
<li><p><strong>cons_eigen</strong> (<em>list</em>) – list containing eingen vectors, eigen values and eigenmatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1darray of size equal to expvects</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.PlotSVDClass">
<span id="ultrafast-plotsvdclass-module"></span><h2>ultrafast.PlotSVDClass module<a class="headerlink" href="#module-ultrafast.PlotSVDClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Sun Nov 15 11:29:27 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.PlotSVDClass.PlotSVD">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.PlotSVDClass.</code><code class="sig-name descname">PlotSVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span></em>, <em class="sig-param"><span class="n">selected_traces</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">selected_wavelength</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to do a singular value decomposition (SVD) of the data and explore the results.</p>
<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.x">
<code class="sig-name descname">x</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x-vector, normally time vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.data" title="Permalink to this definition">¶</a></dt>
<dd><p>array containing the data, the number of rows should be equal to the len(x)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>2darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.wavelength">
<code class="sig-name descname">wavelength</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>wavelength vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.selected_traces">
<code class="sig-name descname">selected_traces</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.selected_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>sub dataset of data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>2darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.selected_wavelength">
<code class="sig-name descname">selected_wavelength</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.selected_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>sub dataset of wavelength</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.S">
<code class="sig-name descname">S</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.S" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of singular values calculated.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.U">
<code class="sig-name descname">U</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.U" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of left singular vectors calculated  .</p>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotSVDClass.PlotSVD.V">
<code class="sig-name descname">V</code><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.V" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of right singular vectors calculated.</p>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotSVDClass.PlotSVD.plotSVD">
<code class="sig-name descname">plotSVD</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vectors</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">select</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">calculate</span><span class="o">=</span><span class="default_value">15</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.plotSVD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotSVDClass.PlotSVD.plot_singular_values">
<code class="sig-name descname">plot_singular_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em>, <em class="sig-param"><span class="n">log_scale</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.plot_singular_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the singular values of either the whole data set or the selected data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>str “all” or “select”</em>) – If “all” the singular values plotted correspond to the whole data set
if select correspond to the singular values of the selected traces</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
<li><p><strong>log_scale</strong> (<em>bool (default True)</em>) – defines the scale of the y axis, if true a logarithmic scale will be set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotSVDClass.PlotSVD.select_traces">
<code class="sig-name descname">select_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">avoid_regions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotSVDClass.PlotSVD.select_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to select traces from the data attribute ande defines a subset of traces
in the selected_traces attribute</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>points</strong> (<em>int or list or “auto” (default 10)</em>) – If type(space) =int: a series of traces separated by the value indicated
will be selected.
If type(space) = list: the traces in the list will be selected.
If space = auto, the number of returned traces is 10 and equally spaced
along the wavelength vector and points is set to 0</p></li>
<li><p><strong>average</strong> (<em>int (default 1)</em>) – Binning points surrounding the selected wavelengths.
e. g.: if point is 1 trace = mean(index-1, index, index+1)</p></li>
<li><p><strong>avoid_regions</strong> (<em>list of list (default None)</em>) – Defines wavelength regions that are avoided in the selection when space
is an integer. The sub_list should have two elements defining the region
to avoid in wavelength values
i. e.: [[380,450],[520,530] traces with wavelength values between 380-450</p>
<blockquote>
<div><p>and 520-530 will not be selected</p>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Modifies the attributes selected_traces and selected_wavelength.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.PlotTransientClass">
<span id="ultrafast-plottransientclass-module"></span><h2>ultrafast.PlotTransientClass module<a class="headerlink" href="#module-ultrafast.PlotTransientClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Nov 12 21:18:25 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.PlotTransientClass.ExploreData">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.PlotTransientClass.</code><code class="sig-name descname">ExploreData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span></em>, <em class="sig-param"><span class="n">selected_traces</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">selected_wavelength</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'viridis'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultrafast.PlotSVDClass.PlotSVD" title="ultrafast.PlotSVDClass.PlotSVD"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.PlotSVDClass.PlotSVD</span></code></a></p>
<p>Class to explore a time resolved data set and easily create figures already formatted.
The class inherits PlotSVD therefore all methods for plotting and exploring the SVD
space are available.</p>
<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.x">
<code class="sig-name descname">x</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x-vector, normally time vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.data" title="Permalink to this definition">¶</a></dt>
<dd><p>array containing the data, the number of rows should be equal to the len(x)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>2darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.wavelength">
<code class="sig-name descname">wavelength</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>wavelength vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.params">
<code class="sig-name descname">params</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.params" title="Permalink to this definition">¶</a></dt>
<dd><p>object containing the initial parameters values used to build an exponential model.
These parameters are iteratively optimize to reduce the residual matrix formed by
data-model (error matrix) using Levenberg-Marquardt algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>lmfit parameters object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.selected_traces">
<code class="sig-name descname">selected_traces</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.selected_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>sub dataset of data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>2darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.selected_wavelength">
<code class="sig-name descname">selected_wavelength</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.selected_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>sub dataset of wavelength</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>1darray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.units">
<code class="sig-name descname">units</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.units" title="Permalink to this definition">¶</a></dt>
<dd><p>This dictionary contains the strings of the units to format axis labels and legends automatically:
“time_unit”: str of the unit. &gt;&gt;&gt; e.g.: ‘ps’ for picosecond
“wavelength_unit”: wavelength unit
The dictionary keys can be passes as kwargs when instantiating the object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="ultrafast.PlotTransientClass.ExploreData.color_map">
<code class="sig-name descname">color_map</code><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.color_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the name of a matplotlib color map</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotTransientClass.ExploreData.plot3D">
<code class="sig-name descname">plot3D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.plot3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the data in 3D</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmap</strong> (<em>str or None</em>) – name of matplotlib color map if None the attribute color_map will be use</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotTransientClass.ExploreData.plot_spectra">
<code class="sig-name descname">plot_spectra</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">times</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">rango</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_points</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">cover_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">from_max_to_min</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend_decimal</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">ncol</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em>, <em class="sig-param"><span class="n">include_rango_max</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.plot_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to plot spectra</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>times</strong> (<em>list or “all” or “auto” (default “all”)</em>) –</p>
<dl class="simple">
<dt>“all”: all spectra will be plotted if they are less than 250 spectra (if there are more than 250 the output</dt><dd><p>is the same as auto</p>
</dd>
</dl>
<p>“auto”: 8 spectra equally spaced at the wavelength where the data has maximum amplitude will be displayed</p>
<dl>
<dt>list: (option 1)</dt><dd><p>list containing a number of time points, then the closest points in x vector to those in the list
will be plotted</p>
</dd>
<dt>list: (Option 2)</dt><dd><p>a list of either length 2 or 3 elements where the structure should follow this sequence:
times=[“auto”, number_of_spectra(optional; int),  wavelength_to_select_spectra(optional; int)],</p>
<p>with three possible options:
1 –&gt;if only [“auto”] 8 spectra will be plotted equally spaced at the maximum for all wavelengths</p>
<blockquote>
<div><p>same as “auto”  as string</p>
</div></blockquote>
<dl class="simple">
<dt>2 –&gt;if [“auto”, n_number_spec] n_number spectra will be plotted equally spaced at the maximum for all</dt><dd><p>wavelengths</p>
</dd>
<dt>3 –&gt;if [“auto”, n_number_spec, wavelength] n_number spectra will be plotted equally spaced at the</dt><dd><p>selected wavelength</p>
</dd>
</dl>
<p>e.g.1: [“auto”, 10, 350] &gt;&gt;&gt; 10 spectra equally spaced at wavelength 350
e.g.2: [“auto”, 10] &gt;&gt;&gt; 10 spectra equally spaced at data wavelength were signal is</p>
<blockquote>
<div><blockquote>
<div><p>maximum amplitude (absolute value)</p>
</div></blockquote>
<p>e.g.3: [“auto”, 6, 480] &gt;&gt;&gt; 6 spectra equally spaced at wavelength 480</p>
</div></blockquote>
</dd>
</dl>
</li>
<li><p><strong>rango</strong> (<em>List of length 2 or None (default None)</em>) – Defines a time range where to auto select spectra</p></li>
<li><p><strong>n_points</strong> (<em>int (default 0)</em>) – Number of points to average the spectra. Is recommended to be zero except for special cases</p></li>
<li><p><strong>cover_range</strong> (<em>List of length 2 or None (default None)</em>) – Defines a range in wavelength that will be cover in white. This can be use to cut the excitation
wavelength range</p></li>
<li><p><strong>from_max_to_min</strong> (<em>bool (default True)</em>) – In case the rango is None. Generally the data sets have a time point where the transient signal is maximum.
If from_max_to_min is True the range will be given from the time point where the data amplitude is maximum
to the end. If False from the initial time to the maximum in amplitude of the data.</p></li>
<li><p><strong>legend</strong> (<em>bool (default True)</em>) – If True a legend will be display, If False color-bar with the times will be display</p></li>
<li><p><strong>legend_decimal</strong> (<em>int (default 2)</em>) – number of decimal values in the legend names</p></li>
<li><p><strong>ncol</strong> (<em>int (default 1)</em>) – Number of legend columns</p></li>
<li><p><strong>cmap</strong> (<em>str or None (default None)</em>) – Name of matplotlib color map if None the attribute color_map will be use</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
<li><p><strong>include_rango_max</strong> (<em>bool (default True)</em>) – If True, spectra are auto-plotted in a given range the last spectrum plotted will be the
closest to the range limit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotTransientClass.ExploreData.plot_traces">
<code class="sig-name descname">plot_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">auto</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.plot_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots either the selected traces or 9-10 trace equally space in the wavelength range.
If less than 10 (included) traces are plotted a legend will be display.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto</strong> (<em>bool (default False)</em>) – If True between 9 and 10 traces equally spaced in the wavelength range will be plotted.
If False the selected traces will be plotted</p></li>
<li><p><strong>size</strong> (<em>int (default 14)</em>) – size of the figure text labels including tick labels axis labels and legend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Figure and axes matplotlib objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotTransientClass.ExploreData.select_traces">
<code class="sig-name descname">select_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">avoid_regions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.select_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to select traces from the data attribute ande defines a subset of traces
in the selected_traces attribute</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>points</strong> (<em>int or list or “auto” (default 10)</em>) – If type(space) =int: a series of traces separated by the value indicated
will be selected.
If type(space) = list: the traces in the list will be selected.
If space = auto, the number of returned traces is 10 and equally spaced
along the wavelength vector and points is set to 0</p></li>
<li><p><strong>average</strong> (<em>int (default 1)</em>) – Binning points surrounding the selected wavelengths.
e. g.: if point is 1 trace = mean(index-1, index, index+1)</p></li>
<li><p><strong>avoid_regions</strong> (<em>list of list (default None)</em>) – Defines wavelength regions that are avoided in the selection when space
is an integer. The sub_list should have two elements defining the region
to avoid in wavelength values
i. e.: [[380,450],[520,530] traces with wavelength values between 380-450</p>
<blockquote>
<div><p>and 520-530 will not be selected</p>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Modifies the attributes selected_traces and selected_wavelength.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PlotTransientClass.ExploreData.select_traces_graph">
<code class="sig-name descname">select_traces_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PlotTransientClass.ExploreData.select_traces_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to select traces graphically</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>int (default -1)</em>) – Defines the number of traces that can be selected. If -1 an infinitive number of traces can be selected</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.PreprocessingClass">
<span id="ultrafast-preprocessingclass-module"></span><h2>ultrafast.PreprocessingClass module<a class="headerlink" href="#module-ultrafast.PreprocessingClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Sun Nov 22 12:52:02 2020</p>
<p>&#64;author: lucas</p>
<dl class="py exception">
<dt id="ultrafast.PreprocessingClass.ExperimentException">
<em class="property">exception </em><code class="sig-prename descclassname">ultrafast.PreprocessingClass.</code><code class="sig-name descname">ExperimentException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.ExperimentException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>General Purpose Exception.</p>
</dd></dl>

<dl class="py class">
<dt id="ultrafast.PreprocessingClass.Preprocessing">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.PreprocessingClass.</code><code class="sig-name descname">Preprocessing</code><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing main preprocessing functions as static methods</p>
<p>All methods assumes tha the data array pass has: 1) data is a 2darray that
has no wavelength or time data points, time and wavelength are given as separate
1d arrays. 2) In the original data set the number of rows shape is the time
points and the number of columns the wavelength points. (Some functions work
independently of the orientation of the data)</p>
<dl>
<dt>The transient data pass should be:</dt><dd><p>data 2d_arrays (time point rows and wavelength columns)
time 1d_arrays
wavelength 1d_arrays
e.g.: data.shape = (50,250)</p>
<blockquote>
<div><p>data has 250 wavelength points and 50 time points</p>
</div></blockquote>
</dd>
</dl>
<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.average_time_points">
<em class="property">static </em><code class="sig-name descname">average_time_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">starting_point</span></em>, <em class="sig-param"><span class="n">step</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'log'</span></em>, <em class="sig-param"><span class="n">grid_dense</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.average_time_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Average time points collected (rows). This function can be use to average
time points. Useful in multiprobe time-resolved experiments or flash-
photolysis experiments recorded with a Photo multiplier tube where the number
of time points is very long and are equally spaced.
(The function assumes time vector is sorted from low to high values)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>time</strong> (<em>1darray or</em>) – time vector</p></li>
<li><p><strong>starting_point</strong> (<em>int or float</em>) – time points higher than this the function will be applied</p></li>
<li><p><strong>step</strong> (<em>int, float or None</em>) – step to consider for averaging data points</p></li>
<li><p><strong>method</strong> (<em>‘log’ or ‘constant’ (default: ‘log’)</em>) – If constant: after starting_point the the function will return average
time points between the step.</p>
<p>If log the firsts step is step/grid_dense and the following points
are (step/grid_dense)*n where n is point number</p>
</li>
<li><p><strong>grid_dense</strong> (<em>int or float higher than 1 (default: 5)</em>) – density of the log grid that will be applied. To high values will not
have effect if: start_point + step/grid_dense is lower than the
difference between the first two consecutive points higher than
start_point. The higher the value the higher the grid dense will be.
return.
(only applicable if method is ‘log’)</p></li>
<li><p><strong>e.g.</strong> – time [1,2,3,4 …. 70,71,72,73,74]
step = 10
starting_point = 5
method ‘constant’</p>
<blockquote>
<div><p>time points return are [1,2,3,4,5,10,20,30,40…]</p>
</div></blockquote>
<dl class="simple">
<dt>method ‘log’</dt><dd><p>time points return are [1,2,3,4,5,6,9,14,21,30,41,54,67.5]</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initial data and time vector averaged</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.baseline_substraction">
<em class="property">static </em><code class="sig-name descname">baseline_substraction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">number_spec</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">only_one</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.baseline_substraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract a initial spectrum or an average of initial spectra
(normally before time = 0) to the entire data set.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Original data set where the number of rows should be the time points
and the number of columns the wavelength points</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>number_spec</strong> (<em>int or list</em>) – This parameter defines the number of spectra to be subtracted.
If int should be the index of the spectrum to be subtracted
If list should be of length 2 and contain initial and final spectra
index that want to be subtracted</p></li>
<li><p><strong>only_one</strong> (<em>bool (default False)</em>) – if True only the spectrum (at index number_spec) is subtracted
if False an average from the spectrum 0 to number_spec is subtracted
(only applicable if number_spec is an int)</p></li>
<li><p><strong>e.g.1</strong> (<em>number_spec = [2,5] an average from spectra 2 to 5 is subtracted</em>) – (where 2 and 5 are included)</p></li>
<li><p><strong>e.g.2</strong> (<em>number_spec = 5 an average from spectra 0 to 5 is subtracted</em>) – if only_one = False; if not only spectrum 5 is subtracted</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray of size equal data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.correct_chrip">
<em class="property">static </em><code class="sig-name descname">correct_chrip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'selmeiller'</span></em>, <em class="sig-param"><span class="n">return_details</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.correct_chrip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.cut_columns">
<em class="property">static </em><code class="sig-name descname">cut_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">columns</span></em>, <em class="sig-param"><span class="n">mini</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">maxi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">innerdata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.cut_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut columns of the data set and wavelength vector according to the closest
values of mini and maxi margins given.
(The function assumes column vector is sorted from low to high values)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>columns</strong> (<em>1darray or None</em>) – Wavelength vectors where regions are cut.
If None an array from 0 to data number of columns is created and
returned after cutting. The parameters mini and maxi should be given
according to indexes</p></li>
<li><p><strong>mini</strong> (<em>int, float or None (default: None)</em>) – data higher than this value is kept</p></li>
<li><p><strong>maxi</strong> (<em>int, float or None (default: None)</em>) – data lower than this value is kept</p></li>
<li><p><strong>innerdata</strong> (<em>cut or select (default: None)</em>) – Only need if both mini and right maxi are given
indicates if data inside the mini and maxi limits should be cut or
selected.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initial data and columns vector cut in the areas indicated</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.cut_rows">
<em class="property">static </em><code class="sig-name descname">cut_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">rows</span></em>, <em class="sig-param"><span class="n">mini</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">maxi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.cut_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut rows of the data set and time vector according to the closest
values of mini and maxi margins given. Contrary to cutColumns functions,
cut are not available since in time resolved spectroscopy is not logical
to cut a complete area of recorded times. Therefore, giving mini and maxi
margins will result in selection of inner time values.
(The function assumes rows vector is sorted from low to high values)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>rows</strong> (<em>1darray or</em>) – Normally time vector where regions are cut.</p></li>
<li><p><strong>mini</strong> (<em>int, float or None (default: None)</em>) – data higher than this value is kept</p></li>
<li><p><strong>maxi</strong> (<em>int, float or None (default: None)</em>) – data lower than this value is kept</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initial data and rows vector cut in the areas indicated</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.del_points">
<em class="property">static </em><code class="sig-name descname">del_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">dimension_vector</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.del_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete rows or columns from the data set according to the closest values
given in points to the values found in dimension_vector. The length of
dimension_vector should be equivalent to one of the data dimensions.</p>
<p>Notice that the function will automatically detect the dimension of the
delete rows or columns in data if any of their dimensions is equal to the
length of the dimension_vector. In case that both dimensions are the same
the axis should be given, by default is 0, which is equivalent to the
time dimension.</p>
<p>i.e.:
points = [3,5]
dimension_vector = [0.7, 1.4, 2.1, 2.8, 3.5, 4.2, 4.9, 5.6]
len(dimension_vector) &gt;&gt;&gt; 8
data.shape &gt;&gt;&gt; (8, 10)</p>
<dl class="simple">
<dt>returns</dt><dd><p>return_data: data array where rows 3 and 6 are deleted
return_data.shape &gt;&gt;&gt; (6, 10)
return_dimension_vector &gt;&gt;&gt; [0.7, 1.4, 2.1, 3.5, 4.2, 5.6]</p>
</dd>
</dl>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>points</strong> (<em>int, list or None</em>) – estimate values of time, the closes values of dimension_vector to the points given
will be deleted</p></li>
<li><p><strong>data</strong> (<em>ndarray</em>) – Original data set where the number of rows should be the time points
and the number of columns the wavelength points</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>dimension_vector</strong> (<em>1darray</em>) – wavelength or time vectors where points should be deleted</p></li>
<li><p><strong>axis</strong> (<em>int, 0 or 1 (default: None)</em>) – indicates the axis where to cut in case data has identical number
of rows and columns. (not needed in other cases)</p></li>
</ul>
</dd>
</dl>
<p>e.g.1: number_spec = [2,5] an average from spectra 2 to 5 is subtracted</p>
<dl class="simple">
<dt>e.g.2: number_spec = 5 an average from spectra 0 to 5 is subtracted</dt><dd><p>if only_one = False; if not only spectrum 5 is subtracted</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>initial data ndarrays with rows or columns deleted and dimension_vector</em></p></li>
<li><p><em>with points deleted.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.derivate_space">
<em class="property">static </em><code class="sig-name descname">derivate_space</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">window_length</span><span class="o">=</span><span class="default_value">25</span></em>, <em class="sig-param"><span class="n">polyorder</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">deriv</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'mirror'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.derivate_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a Savitky-Golay filter to the data in the spectral range (rows).
This function can be used to correct for baseline fluctuations and still
perform a global fit or a single fit to obtain the decay times.  Uses
scipy.signal.savgol_filter (check scipy documentation for more information)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>window_length</strong> (<em>odd int value (default: 25)</em>) – length defining the points for polynomial fitting</p></li>
<li><p><strong>polyorder</strong> (<em>int or float (default: 3)</em>) – order of the polynomial fit</p></li>
<li><p><strong>deriv</strong> (<em>int, float or None (default: 1)</em>) – order of the derivative after fitting</p></li>
<li><p><strong>mode</strong> (<em>(default: ‘mirror’)</em>) – mode to evaluate bounders after derivation, check scipy.signal.savgol_filter
for the different options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initial data and time vector averaged</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.shit_time">
<em class="property">static </em><code class="sig-name descname">shit_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.shit_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time vector by a value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>1darray</em>) – time vector</p></li>
<li><p><strong>value</strong> (<em>int or float</em>) – value shifting the time vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>time value shifted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.PreprocessingClass.Preprocessing.substract_polynom_baseline">
<em class="property">static </em><code class="sig-name descname">substract_polynom_baseline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span></em>, <em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.PreprocessingClass.Preprocessing.substract_polynom_baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit and subtract a polynomial to the data in the spectral range (rows).
This function can be used to correct for baseline fluctuations typically
found in time resolved IR spectroscopy.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>wavelength</strong> (<em>1darray</em>) – wavelength vector</p></li>
<li><p><strong>points</strong> (<em>list</em>) – list containing the wavelength values where the different transient
spectra should be zero</p></li>
<li><p><strong>order</strong> (<em>int or float (default: 3)</em>) – order of the polynomial fit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initial data and time vector averaged</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultrafast.experimentClass">
<span id="ultrafast-experimentclass-module"></span><h2>ultrafast.experimentClass module<a class="headerlink" href="#module-ultrafast.experimentClass" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Nov 12 20:55:03 2020</p>
<p>&#64;author: lucas</p>
<dl class="py class">
<dt id="ultrafast.experimentClass.Experiment">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.experimentClass.</code><code class="sig-name descname">Experiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultrafast.PlotTransientClass.ExploreData" title="ultrafast.PlotTransientClass.ExploreData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.PlotTransientClass.ExploreData</span></code></a>, <a class="reference internal" href="#ultrafast.ExploreResultsClass.ExploreResults" title="ultrafast.ExploreResultsClass.ExploreResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.ExploreResultsClass.ExploreResults</span></code></a></p>
<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.average_time">
<code class="sig-name descname">average_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">starting_point</span></em>, <em class="sig-param"><span class="n">step</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'log'</span></em>, <em class="sig-param"><span class="n">grid_dense</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.average_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.baseline_substraction">
<code class="sig-name descname">baseline_substraction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">number_spec</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">only_one</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.baseline_substraction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.chirp_corrected">
<em class="property">property </em><code class="sig-name descname">chirp_corrected</code><a class="headerlink" href="#ultrafast.experimentClass.Experiment.chirp_corrected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.createNewDir">
<code class="sig-name descname">createNewDir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.createNewDir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.cut_time">
<code class="sig-name descname">cut_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mini</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">maxi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.cut_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.cut_wavelength">
<code class="sig-name descname">cut_wavelength</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">left</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">right</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">innercut</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.cut_wavelength" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.define_weights">
<code class="sig-name descname">define_weights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rango</span></em>, <em class="sig-param"><span class="n">typo</span><span class="o">=</span><span class="default_value">'constant'</span></em>, <em class="sig-param"><span class="n">val</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.define_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.del_points">
<code class="sig-name descname">del_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">dimension</span><span class="o">=</span><span class="default_value">'time'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.del_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.derivate_data">
<code class="sig-name descname">derivate_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">window_length</span><span class="o">=</span><span class="default_value">25</span></em>, <em class="sig-param"><span class="n">polyorder</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">deriv</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'mirror'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.derivate_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.final_fit">
<code class="sig-name descname">final_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vary</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">maxfev</span><span class="o">=</span><span class="default_value">5000</span></em>, <em class="sig-param"><span class="n">apply_weights</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.final_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.initialize_exp_params">
<code class="sig-name descname">initialize_exp_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t0</span></em>, <em class="sig-param"><span class="n">fwhm</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">taus</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em>, <em class="sig-param"><span class="n">opt_fwhm</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.initialize_exp_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.initialize_target_params">
<code class="sig-name descname">initialize_target_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t0</span></em>, <em class="sig-param"><span class="n">fwhm</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">taus</span></em>, <em class="sig-param"><span class="n">tau_inf</span><span class="o">=</span><span class="default_value">1000000000000.0</span></em>, <em class="sig-param"><span class="n">opt_fwhm</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.initialize_target_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.load">
<em class="property">static </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.select_traces">
<code class="sig-name descname">select_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">avoid_regions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.select_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to select traces from the data attribute ande defines a subset of traces
in the selected_traces attribute</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>points</strong> (<em>int or list or “auto” (default 10)</em>) – If type(space) =int: a series of traces separated by the value indicated
will be selected.
If type(space) = list: the traces in the list will be selected.
If space = auto, the number of returned traces is 10 and equally spaced
along the wavelength vector and points is set to 0</p></li>
<li><p><strong>average</strong> (<em>int (default 1)</em>) – Binning points surrounding the selected wavelengths.
e. g.: if point is 1 trace = mean(index-1, index, index+1)</p></li>
<li><p><strong>avoid_regions</strong> (<em>list of list (default None)</em>) – Defines wavelength regions that are avoided in the selection when space
is an integer. The sub_list should have two elements defining the region
to avoid in wavelength values
i. e.: [[380,450],[520,530] traces with wavelength values between 380-450</p>
<blockquote>
<div><p>and 520-530 will not be selected</p>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Modifies the attributes selected_traces and selected_wavelength.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.shit_time">
<code class="sig-name descname">shit_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.Experiment.shit_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.experimentClass.Experiment.type_fit">
<em class="property">property </em><code class="sig-name descname">type_fit</code><a class="headerlink" href="#ultrafast.experimentClass.Experiment.type_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="ultrafast.experimentClass.ExperimentException">
<em class="property">exception </em><code class="sig-prename descclassname">ultrafast.experimentClass.</code><code class="sig-name descname">ExperimentException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.experimentClass.ExperimentException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>General Purpose Exception.</p>
</dd></dl>

</div>
<div class="section" id="module-ultrafast.tools">
<span id="ultrafast-tools-module"></span><h2>ultrafast.tools module<a class="headerlink" href="#module-ultrafast.tools" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Nov 13 15:13:09 2020</p>
<p>&#64;author: Lucas</p>
<dl class="py class">
<dt id="ultrafast.tools.DataSetCreator">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">DataSetCreator</code><a class="headerlink" href="#ultrafast.tools.DataSetCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that with static methods that can be use to generate examples
of transient data, considering gaussian spectral shapes shapes. The
output is a pandas dataFrame.</p>
<p>wave = DataSetCreator.generate_wavelength(350,700,500)
time = DataSetCreator.generate_time(-2,500,120)
shapes = DataSetCreator.generate_shape(5,wave, taus=[8, 30, 200], signe = 0, sigma = 50)
data_set = DataSetCreator.generate_dataset(shapes, time, 0.12)</p>
<p>After fitting the decay associated spectra should be equal to shapes, and the
fitting times 8 30 and 200.</p>
<p>wave = DataSetCreator.generate_wavelength(400,700,500)
peaks=[[470,550,650],[480,700],[500,600]]
amplitudes=[[-10,-6,12],[-9,11],[-8,6]]
fwhms=[[50,100,80],[40,70],[30,65]]
shapes = DataSetCreator.generate_specific_shape(wave, taus=3, peaks=peaks, amplitudes=amplitudes, fwhms=fwhms)
k1=1/5.0
k2=1/20.0
k3=1/100.0
kmatrix = [[-k1,0,0],[k1/3,-k2,0],[2*k1/3,0,-k3]]
initials = [1.0,0,0]
profiles = DataSetCreator.generate_profiles(500.0,5000,initials,kmatrix)
data_set_conv = DataSetCreator.generate_dataset(shapes, profiles, 1.2)
new_times = DataSetCreator.generate_time(data_set_conv.index[0],data_set_conv.index[-1],120)
data_set_conv_proj = DataSetCreator.timegrid_projection(data_set_conv, new_times)</p>
<p>Above kmatrix represent model where species 1 bifurcates to species 2 and 3 (with 1/3 and 2/3 probablity, respectively), and each of them decay independently with 1/k2 and 1/k3.</p>
<p>initials = [1/3.0, 1/3.0, 1/3.0]
kmatrix = [[-k1,0,0],[0,-k2,0],[0,0,-k3]]
Above kmatrix and initial conditions should generate just 3 exp decay (DAS equivalent)</p>
<p>initials = [1.0,0,0]
kmatrix = [[-k1,0,0],[k1,-k2,0],[0,k2,-k3]]
Above kmatrix and initial conditions should generate sequential model (cascade, 1-&gt;2-&gt;3, EAS equivalent)</p>
<p>Some comments about how to build kmatrix. It is just a matrix of rates, which when multiplied by concentration vector of given species
results in derrivative of concentration vector of the same/other species by time. In other words, dc_i/dt = sum of k_ij * c_j .
In general derrivative of vector of c-s = kmatrix * vector of c-s. So for example, first row of kmatrix are k-s of species which
decay to first species (positive values), except first one (k[0,0]) which must be negative because it describes decay of species one.
So (1) diagonal k-s must be negative, because they describe decay of given species,
(2) If you sum all kij*cj parts in all rows, it should yield zero for the sum of populations to be preserved. If this condition is not satisfied,
then it is still okay, assuming that there is more negative values and you are aware with the fact that your sum of c-s decays to zero (typical to TR spectroscopy).
(3) Firstly you can start with defining diagonal elements, which are negative reciprocals of lifetimes of given species
(4) Then You decide to which species each species decay, and you balance this negative diagonal k in other species which has lower energy in energy ladder of states.
(5) You can skip point 4 and just let given species decay to nothing (usually GS) or you can also divide any diagonal k to some portions in more than one different
species. Then you have splitting (bifurcation), so one species decay to more than one species. In general it means, that in each column of kmatrix
sum os f k-s must be zero (concentration preserved over time) or negative (concentration goes down, so species decay to GS and TA signal goes to zero).</p>
<p>After fitting the data parameters should reproduce model described by kmatrix.
This class does not use graphical model generator, because its intention is to test all fitting code, so everything need to be implemented separately,
and possibly in a different way to avoid mistake-compensation.
There are still some minor problems (odeint function gives sometimes NaNs at output, but works if you run it again,
so it seems that some SAS inputs are crashing it, needs to be checked),nevertheless usually works ok and gives reasonable results.
Comment: It seems that when using generate_specific_shape instead of generate_shape there is no errors!</p>
<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.add_noise">
<em class="property">static </em><code class="sig-name descname">add_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">0.0005</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>add gaussian random noise to the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – dataFrame without noise</p></li>
<li><p><strong>scale</strong> (<em>float (default 0.0005)</em>) – time vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas data frame equal size of data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.derrivatives">
<em class="property">static </em><code class="sig-name descname">derrivatives</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cs</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">kmatrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.derrivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>computes derrivatives of concentrations over time, this is callback function for odeint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cs</strong> (<em>numpy array 1D</em>) – concentration of each population</p></li>
<li><p><strong>t</strong> (<em>float</em>) – given time point, does not contribute anyway</p></li>
<li><p><strong>kamtrix</strong> (<em>numpy array 2D</em>) – matrix of k-s, shape[1] must match shape[0] of cs (to properly perform product of matrixes)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>1D numpy array with shape[0] equal to cs.shape[0]. represents derrivatives of concentrations over time</em></p></li>
<li><p><em>here is simple example</em></p></li>
<li><p><em>[[k_11, k_12] [[c_1]</em></p></li>
<li><p><em>[k_21, k_22]] [c_2]]</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.gauss">
<em class="property">static </em><code class="sig-name descname">gauss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">amp</span></em>, <em class="sig-param"><span class="n">cen</span></em>, <em class="sig-param"><span class="n">sigma</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>basic gaussian function</p>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_dataset">
<em class="property">static </em><code class="sig-name descname">generate_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">fwhm</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>generate the data set from the initial spectral shape form. The data has no noise. This
can be added using the add_noise function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>pandas DataFrame</em>) – initial value of the output vector</p></li>
<li><p><strong>time</strong> (<em>1darray or pd.DataFrame</em>) – time vector with delays will trigger generation from DAS (sums of exps)
or pd.DataFrame generated by DataSetCreator.generate_profiles function will trigger generation from SAS</p></li>
<li><p><strong>fwhm</strong> (<em>None or float</em>) – if None the time evolution will start instantly at time zero
if positive float value, evolution will be convolved with gaussian of given FWHM</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas data frame.  data.shape() &gt;&gt;&gt; (len(time), shape.shape[1])</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_profiles">
<em class="property">static </em><code class="sig-name descname">generate_profiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">final</span></em>, <em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">initials</span></em>, <em class="sig-param"><span class="n">kmatrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>SAS equivalent of DataSetCreator.generate_time function.
It always starts from time zero and timegrid is linear (it has to be for odeint)
Later one can project the data into another nonlinear grid, to reduce size of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>final</strong> (<em>np array</em>) – final value of the output vector</p></li>
<li><p><strong>points</strong> (<em>int</em>) – length of output the array
important note: array must dense enough to cover well even short delays (where rapid changes take place),
otherwise differential equations may be solved unaccurately. later one can see reproject time grid and reduce it to reasonable size</p></li>
<li><p><strong>initials</strong> (<em>numpy array 1D</em>) – initial (at time zero) concentration of each population</p></li>
<li><p><strong>kmatrix</strong> (<em>numpy array 2D, dimensions equal to initials</em>) – matrix of k-s describes evolution of the system</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>1D numpy array with shape[0] equal to cs.shape[0]. represents derrivatives of concentrations over time</em></p></li>
<li><p><em>here is simple example</em></p></li>
<li><p><em>[[k_11, k_12] [[c_1]</em></p></li>
<li><p><em>[k_21, k_22]] [c_2]]</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_shape">
<em class="property">static </em><code class="sig-name descname">generate_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">number</span></em>, <em class="sig-param"><span class="n">wave</span></em>, <em class="sig-param"><span class="n">taus</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">signe</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">2.25</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>!WARNING: Sometimes this function generates NaNs instead values. Should be checked.
function to generate the initial shape (DAS) of the data set. The number of taus
defines the shape of the output. returns a pandasDataFrame where the index are
taus and the columns the wavelength. The parameters of the curves are ramdomly
generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> (<em>int</em>) – defines number of maxima/minima int the output shape. Should be greater than len(taus).
e.g.: if number is 5 and taus=[8, 30, 200]. The output is a three row dataFrame, where
two rows have two maxima/minima and the third only one (2+2+1 = 5)</p></li>
<li><p><strong>wave</strong> (<em>np array</em>) – array containing the wavelength vector</p></li>
<li><p><strong>taus</strong> (<em>list (for example [8, 30, 200]) or int</em>) – list containing the associated decay times of the data
or number of DAS, but then DAS won’t be labelled by taus, still can be used as SAS</p></li>
<li><p><strong>scale</strong> (<em>int (default 100)</em>) – controls the intensity of the output data</p></li>
<li><p><strong>signe</strong> (<em>-1, 0 1</em>) – Defines the if the curve is positive or negative
1: all positive
0: can be positive or negative
-1: all negative</p></li>
<li><p><strong>sigma</strong> – default base sigma value of the Gaussian curves (The final is randomly attribute)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas data frame.  data.shape() &gt;&gt;&gt; (len(taus), len(wave))</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_specific_shape">
<em class="property">static </em><code class="sig-name descname">generate_specific_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wave</span></em>, <em class="sig-param"><span class="n">taus</span></em>, <em class="sig-param"><span class="n">peaks</span></em>, <em class="sig-param"><span class="n">amplitudes</span></em>, <em class="sig-param"><span class="n">fwhms</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_specific_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative function to generate the initial shape (DAS or SAS) of the data set.
This is not-random replacement for generate_shape, where you specify every propery of spectra.
Returns a pandasDataFrame where the index are taus or species number and the columns are the wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wave</strong> (<em>np array</em>) – array containing the wavelength vector</p></li>
<li><p><strong>taus</strong> (<em>list (for example [8, 30, 200]) or int</em>) – list containing the associated decay times of the data
or number of DAS, but then DAS won’t be labelled by taus, still can be used as SAS</p></li>
<li><p><strong>peaks</strong> (<em>2D array / list of lists of floats</em>) – Defines positions of the peaks in generated spectra. First dimension enumerates number of spectrum and
must be aligned with taus number/size. Second dimension dspecifies number of peak in given spectrum.
Different spectra can have different number of peaks inside.</p></li>
<li><p><strong>ampitudes</strong> (<em>2D array / list of lists of floats</em>) – The same as above, but specifies amplitudes of peaks (nonzero, positive or negative).
Note that peaks are normal gauss, so area under will be abs(peaks[i][i])*1.0</p></li>
<li><p><strong>fwhms</strong> (<em>2D array / list of lists of floats</em>) – The same as above, but specifies FWHMs (widths) of peaks (values must be positive).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas data frame.  data.shape() &gt;&gt;&gt; (len(taus), len(wave))</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_time">
<em class="property">static </em><code class="sig-name descname">generate_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">init</span></em>, <em class="sig-param"><span class="n">final</span></em>, <em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">space</span><span class="o">=</span><span class="default_value">'lin-log'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_time" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a vector that should be use as time. The points
can be linear logarithmic or in a combined spaced way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init</strong> (<em>int</em>) – initial value of the output vector</p></li>
<li><p><strong>final</strong> (<em>np array</em>) – final value of the output vector</p></li>
<li><p><strong>points</strong> (<em>int</em>) – length of output the array</p></li>
<li><p><strong>space</strong> (<em>str; lin-log, linear or log (default lin-log)</em>) – linear: points are linearly spaced
log: points are spaced log10 scale
lin-log: linearly spaced for values &lt; 1 and log10 spaced for values &gt; 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1d array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.generate_wavelength">
<em class="property">static </em><code class="sig-name descname">generate_wavelength</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">init</span></em>, <em class="sig-param"><span class="n">final</span></em>, <em class="sig-param"><span class="n">points</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.generate_wavelength" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a positive vector that should be use as wavelength. The points
are equally spaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init</strong> (<em>int</em>) – initial value of the output vector</p></li>
<li><p><strong>final</strong> (<em>np array</em>) – final value of the output vector</p></li>
<li><p><strong>points</strong> (<em>int</em>) – length of output the array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1d array (positive)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.norm_gauss">
<em class="property">static </em><code class="sig-name descname">norm_gauss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">fwhm</span></em>, <em class="sig-param"><span class="n">x0</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.norm_gauss" title="Permalink to this definition">¶</a></dt>
<dd><p>just normal (area=1) gaussian distribution</p>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.DataSetCreator.timegrid_projection">
<em class="property">static </em><code class="sig-name descname">timegrid_projection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_data</span></em>, <em class="sig-param"><span class="n">time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.DataSetCreator.timegrid_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>generate the data set from another dataset, with changed grid of delays
designed to reduce the number and distribution of timepoints after generation from target model
this is interpolation-only algorithm, no bucket-averaging!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data</strong> (<em>pandas DataFrame</em>) – generated dataset from DataSetCreator.generate_dataset</p></li>
<li><p><strong>time</strong> (<em>1darray or pd.DataFrame</em>) – time vector with delays, which will be used to reproject the data, generated by DataSetCreator.generate_time
must be within existing time grid of input_data (otherwise error will be thrown!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame, just input with exchanged tme grid</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.FiguresFormating">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">FiguresFormating</code><a class="headerlink" href="#ultrafast.tools.FiguresFormating" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class containing static methods for axis matplotlib formatting</p>
<dl class="py method">
<dt id="ultrafast.tools.FiguresFormating.axis_labels">
<em class="property">static </em><code class="sig-name descname">axis_labels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">x_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.FiguresFormating.axis_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>add labels to the axis ax</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib axis</em>) – axis containing the figure</p></li>
<li><p><strong>x_label</strong> (<em>str (default None)</em>) – string containing the x label,</p></li>
<li><p><strong>y_label</strong> (<em>str (default None)</em>) – string containing the y label</p></li>
<li><p><strong>size</strong> (<em>int</em>) – size of the label</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.FiguresFormating.cover_excitation">
<em class="property">static </em><code class="sig-name descname">cover_excitation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">x_range</span></em>, <em class="sig-param"><span class="n">x_vector</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.FiguresFormating.cover_excitation" title="Permalink to this definition">¶</a></dt>
<dd><p>add a white rectangle on top of an area in the figure. Typically use to cover
the excitation of the laser in the spectra figure of a pump-probe UV-vis experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib axis</em>) – axis containing the figure</p></li>
<li><p><strong>x_range</strong> (<em>list or tupple of length 2</em>) – contains the initial and and final x values of x vector(normally wavelength)</p></li>
<li><p><strong>x_vector</strong> (<em>array</em>) – the x vector plotted in the figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.FiguresFormating.format_figure">
<em class="property">static </em><code class="sig-name descname">format_figure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">x_vector</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">14</span></em>, <em class="sig-param"><span class="n">x_tight</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">set_ylim</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">val</span><span class="o">=</span><span class="default_value">50</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.FiguresFormating.format_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>format ax figures
Always does:</p>
<blockquote>
<div><p>-add minor tick
-set ticks directions in
-add tick in top and left sides
-set tick labels in scientific notations
-add x = 0 horizontal line. line_style = (–)</p>
</div></blockquote>
<p>Set margins of the data figure in x and y directions according to the different parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib axis</em>) – axis containing the figure</p></li>
<li><p><strong>data</strong> (<em>np array</em>) – array containing the data plotted. Is used to get minimum and maximum values and
adjust the y margins if set_ylim is True</p></li>
<li><p><strong>x_vector</strong> (<em>array</em>) – the x vector plotted in the figure</p></li>
<li><p><strong>size</strong> (<em>int</em>) – size of the the tick labels</p></li>
<li><p><strong>x_tight</strong> (<em>bool (default False)</em>) – If True, set tight the x axis
If False set limits according to max(x_vector)/val</p></li>
<li><p><strong>val</strong> (<em>int or float</em>) – value for adjusting x vector if x_tight is False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.LabBook">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">LabBook</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kws</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.LabBook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class object that can store in combination with book_annotate the
functions ran names as attributes where the values are strings with
the function parameters names and the values passed.</p>
<dl class="py method">
<dt id="ultrafast.tools.LabBook.actions">
<em class="property">property </em><code class="sig-name descname">actions</code><a class="headerlink" href="#ultrafast.tools.LabBook.actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.LabBook.clean">
<code class="sig-name descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.LabBook.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean the LabBook except name attribute if given</p>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.LabBook.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">element</span><span class="o">=</span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.LabBook.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>method similar to delattr function. It deletes an entry on the lab according to key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – name of the attribute</p></li>
<li><p><strong>element</strong> (<em>“all” or int (default “all”)</em>) – if “all” all entries will be deleted
if int the element of the list at this index is deleted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.LabBook.print">
<code class="sig-name descname">print</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">creation</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">print_protected</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">single_line</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.LabBook.print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all attributes and their values as a Lab report</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>creation</strong> (<em>bool (default True)</em>) – If True prints the day and hour of the LabBook creation</p></li>
<li><p><strong>print_protected</strong> (<em>bool (default False)</em>) – Define if protected attributes starting wiht “_” are printed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.ReadData">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">ReadData</code><a class="headerlink" href="#ultrafast.tools.ReadData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ultrafast.tools.ReadData.readData">
<code class="sig-name descname">readData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wave_is_row</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">separator</span><span class="o">=</span><span class="default_value">','</span></em>, <em class="sig-param"><span class="n">decimal</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.ReadData.readData" title="Permalink to this definition">¶</a></dt>
<dd><p>similar parameters and explanations as in readData function</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.TimeMultiplicator">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">TimeMultiplicator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.a">
<code class="sig-name descname">a</code><em class="property"> = 1e-18</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.TimeMultiplicator.chose">
<em class="property">static </em><code class="sig-name descname">chose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.chose" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.f">
<code class="sig-name descname">f</code><em class="property"> = 1e-15</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.f" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.m">
<code class="sig-name descname">m</code><em class="property"> = 0.001</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.n">
<code class="sig-name descname">n</code><em class="property"> = 1e-09</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.n" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.p">
<code class="sig-name descname">p</code><em class="property"> = 1e-12</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.s">
<code class="sig-name descname">s</code><em class="property"> = 1.0</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.y">
<code class="sig-name descname">y</code><em class="property"> = 1e-24</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.z">
<code class="sig-name descname">z</code><em class="property"> = 1e-21</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator.z" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ultrafast.tools.TimeMultiplicator.">
<span id="ultrafast.tools.TimeMultiplicator.μ"></span><code class="sig-name descname">μ</code><em class="property"> = 1e-06</em><a class="headerlink" href="#ultrafast.tools.TimeMultiplicator." title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.TimeUnitFormater">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">TimeUnitFormater</code><span class="sig-paren">(</span><em class="sig-param">multiplicator: ultrafast.tools.TimeMultiplicator = &lt;TimeMultiplicator.p: 1e-12&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.TimeUnitFormater" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to format a time number in a string with the corresponding unit, after indicating the unit measure.</p>
<dl>
<dt>i.e.:</dt><dd><p>formater = TimeUnitFormater(“m”) # formater for milisecond measurement</p>
<p>formater.value_formated(3046)
&gt;&gt;&gt; ‘3.05 s’</p>
<p>formater.value_formated(3046E-7)
&gt;&gt;&gt; ‘0.30 μs’</p>
<p>formater.value_formated(3046E3)
&gt;&gt;&gt; ‘50.77 mins’</p>
<p>formater.value_formated(3046E3, 4)
&gt;&gt;&gt; ‘50.7667 mins’</p>
</dd>
</dl>
<dl class="py method">
<dt id="ultrafast.tools.TimeUnitFormater.multiplicator">
<em class="property">property </em><code class="sig-name descname">multiplicator</code><a class="headerlink" href="#ultrafast.tools.TimeUnitFormater.multiplicator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ultrafast.tools.TimeUnitFormater.value_formated">
<code class="sig-name descname">value_formated</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">decimal</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.TimeUnitFormater.value_formated" title="Permalink to this definition">¶</a></dt>
<dd><p>Funtion to tranform the number to string
:Parameters: * <strong>value</strong> (<em>int or float</em>) – Value to be formated</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>decimal</strong> (<em>int (default 2)</em>) – number of decimal numbers of the output string</p></li>
</ul>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ultrafast.tools.UnvariableContainer">
<em class="property">class </em><code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">UnvariableContainer</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kws</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.UnvariableContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultrafast.tools.LabBook" title="ultrafast.tools.LabBook"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultrafast.tools.LabBook</span></code></a></p>
<p>Object where once an attribute has been set cannot be modified if
self.__frozen = False</p>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.book_annotate">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">book_annotate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">container</span></em>, <em class="sig-param"><span class="n">extend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.book_annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator with arguments. This decorator is working only with LabBook class,
or an object with modified __setattr__ method.</p>
<p>It is use to create a lab book where the functions names and parameters names and values given
are saved in container (VariableContainer class). VariableContainer has a method print() for
printing the lab book.</p>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.book_annotate_all_methods">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">book_annotate_all_methods</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">book</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cls</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.book_annotate_all_methods" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.define_weights">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">define_weights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">rango</span></em>, <em class="sig-param"><span class="n">typo</span><span class="o">=</span><span class="default_value">'constant'</span></em>, <em class="sig-param"><span class="n">val</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.define_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a an array that can be apply  in global fit functions as weights.
The weights can be use to define areas where the minimizing functions is
not reaching a good results, or to define areas that are more important
than others in the fit. The fit with weights can be inspect as any other
fit with the residual plot. A small constant value is generally enough
to achieve the desire goal.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>time</strong> (<em>1darray or None</em>) – time vectors. the weight vector will have the same length w</p></li>
<li><p><strong>rango</strong> (<em>list (length 2)</em>) – list containing initial and final time values of the range
where the weights will be applied</p></li>
<li><p><strong>typo</strong> (<em>str (constant, exponential, r_exponential or exp_mix)</em>) – defines the type of weighting vector returned</p>
<p>constant: constant weighting value in the range
exponential: the weighting value increase exponentially
r_exponential: the weighting value decrease exponentially
mix_exp: the weighting value increase and then decrease exponentially</p>
<blockquote>
<div><p>constant value 5, [1,1,1,1,…5,5,5,5,5,….1,1,1,1,1]
exponential for val= 2 [1,1,1,1,….2,4,9,16,25,….,1,1,1,]</p>
<blockquote>
<div><p>for val= 3 [1,1,1,1,….3,8,27,64,125,….,1,1,1,]</p>
</div></blockquote>
<p>r_exponential [1,1,1,1,…25,16,9,4,2,…1,1,1,]
exp_mix [1,1,1,1,…2,4,9,4,2,…1,1,1,]</p>
</div></blockquote>
</li>
<li><p><strong>val</strong> (<em>int (default 5)</em>) – value for defining the weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>a dictionary with the keys</strong> (<em>parameters pass plus “apply”: True</em>)</p></li>
<li><p><strong>and “vector”</strong> (<em>weighting vector. The dictionary can be used as kwargs</em>)</p></li>
<li><p><em>in the global fitting function. Notice that only if apply is set</em></p></li>
<li><p><em>to True then the fitting will consider the weights vector.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.froze_it">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">froze_it</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.froze_it" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.readData">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">readData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wave_is_row</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">separator</span><span class="o">=</span><span class="default_value">','</span></em>, <em class="sig-param"><span class="n">decimal</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.readData" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a data file from the indicated path and returns three arrays with shapes
uses in the chempyspec. The function is bases in pandas read_csv, and uses
the ReadData class.</p>
<p>For the rows or columns corresponding to the wavelength and time vectors
the function deals with non numerical values such as units names (e.g.:
‘nm’ ‘ps’, ‘ns’), words and number in scientific notation E or e in any of
the forms and combinations. For the rest of values (data values) the
function assumes they are homogeneous. The function eliminates from the
data rows or columns with non numerical numbers (Nan) in all the entries if
not they are set to zero. It also sort the time points if these where non
sorted as can be the case with some multi-probe experimental outputs data
files.</p>
<dl>
<dt>The arrays return are:</dt><dd><p>time: 1darray of length equal to the number of rows in data</p>
<dl class="simple">
<dt>data: 2darray, where rows correspond to the time direction</dt><dd><p>and wavelength to the columns</p>
</dd>
<dt>wavelength: 1darray of length equal to the number of columns</dt><dd><p>in data</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – path to the data file</p></li>
<li><p><strong>wavelength</strong> (<em>int (default 0)</em>) – defines the element where to find the wavelength vector in its direction
which is defined by wave_is_row parameter. i.e.: if wavelength correspond
to columns, wavelength=0 indicates is the first column of the data file
if wavelength correspond to rows, then wavelength=0 is first row</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>time: int (default 0)</dt><dd><p>defines the element where to find the time vector in its direction
which is defined by wave_is_row parameter. i.e.: if times correspond
to columns, time=0 indicates is the first column of the data file</p>
</dd>
<dt>wave_is_row: bool (default False)</dt><dd><p>defines if in the original data set the wavelength correspond
to the rows.</p>
</dd>
<dt>separator: str (default ‘,’)</dt><dd><p>defines the separator in the data (any value that can be used in pandas
read_csv is valid. For tab uses</p>
</dd>
<dt>decimal: int (default ‘.’)</dt><dd><p>defines the decimal point in the data</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>3 arrays corresponding to time, data, and wavelength</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.select_traces">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">select_traces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">wavelength</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">space</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">points</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">avoid_regions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.select_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>select traces in the wavelength range</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>data</strong> (<em>ndarray</em>) – Normally in  the original data set the number of rows should be the
time points and the number of columns the Columns points. Although
this function works with transposes data sets</p>
<blockquote>
<div><dl class="simple">
<dt>e.g.: data.shape = (50,250)</dt><dd><p>data has 250 wavelength points and 50 time points</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><strong>wavelength</strong> (<em>1darray or None</em>) – Wavelength vectors where traces are selected. The len(wavelength), should
be equal to the number of columns of data</p>
<p>If None an array from 0 to data number of columns is created and
returned after cutting. The parameters space should be given
according to indexes</p>
</li>
<li><p><strong>space</strong> (<em>int or list or “auto” (default 10)</em>) – If type(space) = int: a series of traces separated by the value indicated
will be selected.
If type(space) = list: the traces in the list will be selected.
If space = auto, the number of returned traces is 10 and equally spaced
along the wavelength vector and points is set to 0</p></li>
<li><p><strong>points</strong> (<em>int (default 1)</em>) – binning points surrounding the selected wavelengths.
e. g.: if point is 1 trace = mean(index-1, index, index+1)</p></li>
<li><p><strong>avoid_regions</strong> (<em>list of list (default None)</em>) – Defines wavelength regions that are avoided in the selection when space
is an integer. The sub_list should have two elements defining the region
to avoid in wavelength values
i. e.: [[380,450],[520,530] traces with wavelength values between 380-450</p>
<blockquote>
<div><p>and 520-530 will not be selected</p>
</div></blockquote>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>2d array with a selection of data traces, and 1darray with the corresponding</em></p></li>
<li><p><em>wavelength values</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ultrafast.tools.solve_kmatrix">
<code class="sig-prename descclassname">ultrafast.tools.</code><code class="sig-name descname">solve_kmatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exp_no</span></em>, <em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ultrafast.tools.solve_kmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve the k_matrix from a parameters object for a target fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exp_no</strong> (<em>int</em>) – number of component of the K_matrix (diagonal elements)</p></li>
<li><p><strong>params</strong> (<em>lmfit parameters object</em>) – object containing the parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Coefficients of each component eigenvalues and eigen matrix</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ultrafast">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ultrafast" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modules.html" class="btn btn-neutral float-left" title="ultrafast" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Lucas Martinez Uriarte.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>